# Планируемые расширения

Текущий MVP включает базовые сервисы (Nextcloud + ONLYOFFICE). В данном разделе описаны возможности расширения цифрового пространства ПЭС в будущем — новые сервисы и улучшения, которые могут быть интегрированы.

## Интеграция системы дистанционного обучения (Moodle)

**Moodle** – это популярная платформа для организации онлайн-обучения. Ее добавление позволит расширить функциональность проекта:

- **Развертывание Moodle:** Планируется поднять дополнительный контейнер с Moodle, настроенный на работу в общей инфраструктуре (возможно, используя ту же базу данных или отдельную).
- **Связь с Nextcloud:** Для обмена данными Moodle может использовать хранилище Nextcloud (например, через внешние хранилища WebDAV) или встраивать ссылки на материалы, хранящиеся в Nextcloud.
- **Использование SSO:** Интеграция Moodle с единой системой аутентификации (см. Keycloak ниже) позволит пользователям заходить под одной учетной записью во все сервисы, включая Moodle.

## Внедрение единой аутентификации (Keycloak)

**Keycloak** – это решение для единого входа (Single Sign-On) и управления учетными записями:

- **Единый вход:** После интеграции Keycloak пользователи смогут авторизоваться один раз и получать доступ ко всем сервисам (Nextcloud, Moodle, OnlyOffice и др.) без повторного ввода пароля.
- **Настройка интеграций:** Nextcloud и Moodle поддерживают протоколы OAuth2/OpenID Connect и SAML, благодаря чему их можно подключить к Keycloak как провайдеру идентификации. Планируется настроить Keycloak и обновить конфигурации Nextcloud/Moodle для работы с ним.
- **Преимущества:** Централизованное управление пользователями (создание, блокировка, смена паролей), возможность включить двухфакторную аутентификацию, единые политики безопасности для всех сервисов.

## Дополнительные сервисы и улучшения

- **SSL/HTTPS:** На этапе MVP может использоваться незащищенный HTTP. В дальнейшем предполагается настроить SSL-сертификат (например, через Let's Encrypt) на Nginx-прокси для обеспечения безопасного доступа извне.
- **Мониторинг и логирование:** Для профессионального мониторинга системы можно добавить сервисы вроде **Prometheus** и **Grafana** (для сбора и визуализации метрик контейнеров) и **ELK-stack** или **Graylog** (для централизованного сбора логов).
- **Расширение Nextcloud:** Рассматривается установка дополнительных приложений Nextcloud: календарь, задачи, почта, чтобы создать полнофункциональную цифровую рабочую среду.
- **Масштабирование:** Если численность пользователей возрастет, архитектура может быть масштабирована – например, вынесение базы данных на отдельный сервер, клонирование фронтенд-узлов Nextcloud за балансировщиком, использование кластерной версии ONLYOFFICE.

## Обновление документации при расширении

Каждое новое расширение будет сопровождаться изменениями в репозитории:

- `docker-compose.yml` будет дополнен новыми сервисами (Moodle, Keycloak и др.) и необходимыми настройками для них.
- В папке `docs/` появятся новые руководства или разделы (например, **Installation_Moodle.md** для установки Moodle, секции по настройке SSO и т.д.).
- Текущие документы (архитектура, использование) будут обновлены с учетом изменений. Архитектурная схема будет усложняться, отражая взаимосвязи большего числа сервисов.

*(Данный раздел демонстрирует, что проект спроектирован с учетом будущего роста и может развиваться до полноценной экосистемы цифрового образовательного пространства.)*
